---
type: summary
phase: 04.1-workout-logging-ux-fix
plan: 01
subsystem: coach-web
tags: [routing, ux, tanstack-router, athletes]

dependency-graph:
  requires: [04-09]
  provides: [fixed-routing, athlete-detail-page]
  affects: []

tech-stack:
  added: []
  patterns: [tanstack-router-outlet-layout]

key-files:
  created:
    - apps/coach-web/src/routes/_authenticated/$orgSlug/athletes/index.tsx
    - apps/coach-web/src/routes/_authenticated/$orgSlug/athletes/$athleteId/index.tsx
    - apps/coach-web/src/features/athletes/views/athlete-detail-view.tsx
    - apps/coach-web/src/features/athletes/hooks/queries/use-athlete.ts
  modified:
    - apps/coach-web/src/routes/_authenticated/$orgSlug/athletes.tsx
    - apps/coach-web/src/features/athletes/components/athletes-table.tsx
    - apps/coach-web/src/components/layout/app-sidebar.tsx
  deleted:
    - apps/coach-web/src/routes/_authenticated/$orgSlug/logging/index.tsx
    - apps/coach-web/src/features/workout-logs/views/logging-dashboard-view.tsx
    - apps/coach-web/src/features/workout-logs/components/pending-workouts-table.tsx
    - apps/coach-web/src/features/workout-logs/hooks/queries/use-pending-workouts.ts

decisions:
  - id: tanstack-router-layout
    title: Use layout routes with Outlet for nested navigation
    choice: Convert athletes.tsx to layout, create athletes/index.tsx for list
    reasoning: Child routes require parent to have Outlet to render

metrics:
  duration: 5min
  completed: 2026-01-28
---

# Phase 4.1 Plan 01: Workout Logging UX Fix Summary

**One-liner:** Fixed athletes routing to enable session logging flow with proper Outlet layout and athlete detail page.

## What Was Done

### Task 1: Fix Athletes Route Structure
- Converted `athletes.tsx` to layout route with `<Outlet />`
- Created `athletes/index.tsx` for the athletes list view
- Child routes now render correctly instead of being blocked by parent

### Task 2: Create Athlete Detail Page
- Created `use-athlete.ts` hook for fetching single athlete
- Created `athlete-detail-view.tsx` component showing:
  - Athlete info header (name, email, status badges)
  - Assigned program with collapsible weeks
  - Session list with "Registrar" buttons linking to logging
  - "Ver Historial" link for workout history
- Created route at `athletes/$athleteId/index.tsx`

### Task 3: Update Athletes Table Row Actions
- Added "Ver Atleta" as first row action
- Made athlete name clickable to navigate to detail page
- Reordered actions: Ver Atleta, Ver Historial, Editar, Invitacion, Archivar

### Task 4: Remove Registro from Sidebar
- Removed "Registro" nav item (concept doesn't work without scheduling)
- Coaches now access logging via: Atletas > Athlete > Registrar

### Task 5: Delete Unused Logging Dashboard
- Deleted route, view, table, and hook for pending workouts
- Backend procedure kept for future use when scheduling is added

## Navigation Flow (After Fix)

```
/athletes (list) --> Click athlete name or "Ver Atleta"
  |
  v
/athletes/$athleteId (detail page) --> Click "Registrar" on session
  |
  v
/athletes/$athleteId/log/$sessionId (logging view)
  |
  v
/athletes/$athleteId/logs (history view)
```

## Commits

| Hash | Message |
|------|---------|
| e73dd54 | feat(04.1-01): fix athletes route structure with Outlet |
| dc66bf1 | feat(04.1-01): create athlete detail page |
| 8e3293e | feat(04.1-01): update athletes table row actions |
| f35945e | feat(04.1-01): remove Registro from sidebar navigation |
| 679f653 | chore(04.1-01): delete unused logging dashboard files |

## Deviations from Plan

None - plan executed exactly as written.

## Next Phase Readiness

**Ready for:** Phase 4 History View (04-10) or Phase 5 Dashboard & Analytics.

The workout logging flow is now complete:
- Athletes list page works
- Athlete detail page shows program structure
- Session logging view accessible via "Registrar" button
- Log history view accessible via "Ver Historial" button
