---
status: complete
phase: 03.1-custom-program-grid
source:
  - 03.1-08-SUMMARY.md
  - 03.1-09-SUMMARY.md
  - 03.1-10-SUMMARY.md
  - 03.1-11-SUMMARY.md
started: 2026-01-25T18:30:00Z
updated: 2026-01-25T18:45:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Athlete Selector Server-Side Search
expected: Open create program form. Click the athlete selector. A dropdown opens (click-first, not typing-first). Start typing an athlete name inside the dropdown search box. Results filter as you type with server-side search. Loading indicator shows during search. Empty state appears if no results. Select an athlete and it displays in the trigger button.
result: issue
reported: "No tiene la accesibilidad correspondiente. Cuando busco a alguien no puedo navegar con las flechas. Debe haber algo mal con la implementación ya que los componentes de shadcn ya tienen esa accesibilidad. Quizás podemos volver al combobox https://ui.shadcn.com/docs/components/base/combobox pero asegurándonos que sea server side como ahora"
severity: major

### 2. Week Column Ordering on Rename
expected: Open a program with multiple weeks. Rename "Semana 2" to something else (e.g., "Recovery Week"). After renaming, the week stays in the same position (column 2). The grid column order is preserved.
result: pass

### 3. Dynamic Superset Groups - Menu Shows Existing Groups
expected: Add 3 exercises to a session. Put first two exercises in superset group A (A1, A2). Select the third exercise (C1). Open its actions menu. "Agregar a superserie" submenu shows only "A" as option, plus "Crear superserie B" for new group.
result: issue
reported: "No funciona. 1) Si agarro B1 y abro el menu, solo me aparece 'Crear superserie A'. Si voy a C1 también me aparece solo 'Crear superserie A'. ¿Cómo junto entonces el C1 con B1? 2) Al pararme en B1 y tocar 'Crear superserie A', lo transforma en 'A1', teniendo ahora dos 'A1' en el programa ya que nunca agrupó los ejercicios. 3) Al crear una superserie que no existe, debe combinar los ejercicios. Espero que si toco 'Crear superserie A' en C1, lo que haría es crear una superserie con A1 y C1, con el orden A1 (A1 original) y A2 (C1 original) y ponerlo uno abajo del otro, siempre manteniendo las series como un grupo en las filas, sin permitir tener cosas en el medio."
severity: major

### 4. Dynamic Superset Groups - Adding to Existing Group
expected: With exercises A1, A2, C1, add C1 to superset group A. The exercise becomes A3 (not A1). The blue superset indicator line now connects all three exercises A1-A2-A3.
result: issue
reported: "Same problem. It doesn't rearrange the rows. I can freely move the exercises in the superset up and down, and the A# keeps the same, having the scenario of A1, A3, A2"
severity: major

### 5. Keyboard Navigation - Arrow Keys
expected: Click on a prescription cell to select it (should NOT enter edit mode). Use arrow keys to navigate between cells. Focus indicator moves between cells without scrolling the page. Session header rows are skipped.
result: pass
note: "Minor: exercise cell doesn't highlight like other cells when focused"

### 6. Edit Mode Entry - Double Click
expected: Double-click on a prescription cell. Cell enters edit mode with cursor in input. Type a value. Press Enter to save. Cell exits edit mode and shows the saved value.
result: pass
note: "Minor: Prescription cells should only enter edit mode on number keys (not any key) to avoid interfering with commands like 'S'. Exercise cells correctly only trigger on double-click/Enter."

### 7. Edit Mode Entry - Enter Key
expected: Select a cell with single click. Press Enter. Cell enters edit mode. Type a value. Press Enter to save.
result: pass

### 8. Edit Mode Exit - Focus Restoration
expected: Enter edit mode on a cell. Type something and press Enter. After exiting edit mode, the cell remains selected and focused. Arrow keys immediately work to navigate to adjacent cells.
result: pass

### 9. S Key Superset Toggle
expected: Single-click to select an exercise row (NOT in edit mode). Press "S" key. The exercise toggles into a superset group. Blue indicator appears connecting it with any adjacent exercises.
result: pass
note: "Works but needs superset issues from tests 3-4 fixed to fully verify"

## Summary

total: 9
passed: 6
issues: 3
pending: 0
skipped: 0

## Gaps

- truth: "Athlete selector has keyboard accessibility - arrow keys navigate search results"
  status: failed
  reason: "User reported: No tiene la accesibilidad correspondiente. Cuando busco a alguien no puedo navegar con las flechas. Debe haber algo mal con la implementación ya que los componentes de shadcn ya tienen esa accesibilidad. Quizás podemos volver al combobox pero asegurándonos que sea server side como ahora"
  severity: major
  test: 1
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Superset menu shows existing groups to join, and creating a superset combines exercises physically in the grid"
  status: failed
  reason: "User reported: 1) Menu only shows 'Crear superserie A' for all exercises, no option to join existing groups. 2) Creating superset A on B1 just renames it to A1, creating duplicate A1s without grouping. 3) Expected behavior: Creating superset should combine exercises physically, reorder rows so superset members are adjacent, assign sequential order (A1, A2, A3)."
  severity: major
  test: 3
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Adding exercise to existing superset group assigns next order number and rearranges rows to keep group adjacent"
  status: failed
  reason: "User reported: Doesn't rearrange rows. Exercises in superset can be moved freely up/down without order updating, resulting in A1, A3, A2 scenarios."
  severity: major
  test: 4
  related_to: 3
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""
