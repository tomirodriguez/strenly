---
status: approved
phase: 03.4-domain-restructure-training-programs
source: 03.4-01-SUMMARY.md, 03.4-02-SUMMARY.md, 03.4-03-SUMMARY.md, 03.4-04-SUMMARY.md, 03.4-05-SUMMARY.md, 03.4-06-SUMMARY.md, 03.4-08-SUMMARY.md
started: 2026-01-26T22:15:00Z
updated: 2026-01-26T22:45:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Load Program in Editor
expected: Navigate to Programs, open an existing program. Grid displays correctly with weeks as columns, sessions as row groups, exercises with prescriptions.
result: pass

### 2. Edit Prescription Cell
expected: Click a prescription cell, type "3x10@80%", see the Save button become enabled (dirty state). Cell shows the parsed notation.
result: pass

### 3. Save and Persist Changes
expected: Click "Guardar" button. Button shows loading, then success. Refresh the page - the saved prescription appears correctly.
result: pass
note: Fixed in 03.4-08 via mapIntensityTypeToUnit helper

### 4. Add Week
expected: Click "+" to add a week column. New week appears. Save and refresh - week persists.
result: pass

### 5. Add Session
expected: Click "Agregar sesion". New session row group appears. Save and refresh - session persists.
result: pass

### 6. Add Exercise to Session
expected: Click "+ Agregar ejercicio" in a session. Exercise combobox appears. Select an exercise. Save and refresh - exercise persists.
result: pass

### 7. Superset Grouping Persists
expected: Right-click an exercise, use "Agrupar arriba" to merge with group above. See grouped labeling (A1, A2). Save and refresh - superset grouping persists.
result: pass
note: Fixed in 03.4-08 via new groupWithAbove action that manipulates aggregate directly

### 8. No Console Errors
expected: Throughout all testing, browser console shows no red errors related to program loading, editing, or saving.
result: deferred
reported: "Base UI: A component that acts as a button was not rendered as a native <button>"
severity: minor
note: User approved deferring this to future work - warning only, not blocking functionality

## Summary

total: 8
passed: 7
issues: 0
deferred: 1
pending: 0
skipped: 0

## Gaps

- truth: "Saved prescription displays correctly (e.g., 3x10@100kg)"
  status: fixed
  fix: "Added mapIntensityTypeToUnit helper in prescription.ts, updated transform-program.ts and grid-store.ts"
  plan: "03.4-08"
  commit: "ca6cfe6"

- truth: "Superset grouping works and persists"
  status: fixed
  fix: "Replaced complex menu with 'Agrupar arriba' button, added groupWithAbove action that manipulates aggregate"
  plan: "03.4-08"
  commit: "e25f21d"

- truth: "No console errors during program editing"
  status: deferred
  reason: "Base UI warning is cosmetic, not blocking functionality. User approved deferring to future work."
  severity: minor
  test: 8
