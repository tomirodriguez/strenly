---
status: complete
phase: 02.5-coach-web-foundation
source: ROADMAP.md success criteria
started: 2026-01-24T12:30:00Z
updated: 2026-01-25T10:15:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Sign Up, Log In, Log Out
expected: Create account at /signup, log in at /login, log out via user menu. After logout, redirected to /login and cannot access protected routes.
result: pass

### 2. Organization Onboarding
expected: After signup (or if no organization), redirected to /onboarding. Create organization with name and slug. After creation, redirected to /dashboard.
result: pass

### 3. Athletes List with Search and Pagination
expected: /athletes shows table with athlete data. Search input filters by name/email. Pagination controls at bottom work correctly.
result: pass

### 4. Create, Edit, Archive Athletes
expected: Click "Add Athlete" → modal opens with form. Fill and submit → athlete appears in list. Edit via row menu. Archive via row menu → athlete removed or marked inactive.
result: issue
reported: "Cuando se quiere agregar una atleta, falla cuando el email está vacío. Frontend validation pasa pero backend rechaza con VALIDATION_ERROR 500. Mismo problema al editar. Si el email se coloca, funciona. Archivado funciona."
severity: major

### 5. Generate Invitation Links
expected: Click row menu on athlete → "Generate Invite". Success toast, link copied. Athlete row shows invitation status (pending/accepted).
result: issue
reported: "Se genera la invitacion correctamente pero no hay acceso a los links ya generados. Si se pierde el link, hay que regenerar constantemente. Deberia ser un modal que muestre invitaciones existentes y permita copiar o regenerar."
severity: major

### 6. Exercise Browser with Filters
expected: /exercises shows exercise table. Muscle group dropdown filters exercises. Movement pattern dropdown filters. Search by name works. Filters combine correctly.
result: issue
reported: "Tabla se ve bien pero filtro de músculo no funciona. Ningún ejercicio del seed tiene músculos asociados. Bug encontrado: seed guarda muscleGroupId como 'mg-chest' pero isValidMuscleGroup() espera 'chest' sin prefijo."
severity: major

## Summary

total: 6
passed: 3
issues: 3
pending: 0
skipped: 0

## Gaps

- truth: "Create/Edit athlete works with empty email field"
  status: failed
  reason: "User reported: Frontend validation passes empty email, backend rejects with VALIDATION_ERROR 500. Same issue on create and edit. Works if email is provided."
  severity: major
  test: 4
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Coach can view and copy existing invitation links"
  status: failed
  reason: "User reported: Invitation generates correctly but no way to access previously generated links. Must regenerate if lost. Should be modal showing existing invitations with copy/regenerate options."
  severity: major
  test: 5
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Exercises display associated muscle groups and muscle filter works"
  status: failed
  reason: "Seed data stores muscleGroupId as 'mg-chest' but isValidMuscleGroup() expects 'chest' without prefix. All muscle mappings fail validation, exercises appear with no muscles."
  severity: major
  test: 6
  root_cause: "Repository mapToDomain() uses isValidMuscleGroup(mapping.muscleGroupId) but DB has 'mg-chest' format while validator expects 'chest'"
  artifacts:
    - path: "packages/backend/src/infrastructure/repositories/exercise.repository.ts"
      issue: "isValidMuscleGroup checks raw muscleGroupId without stripping mg- prefix"
    - path: "packages/database/src/seed/exercises.ts"
      issue: "muscleGroupId uses mg-{muscle} format"
  missing:
    - "Strip mg- prefix when validating muscleGroupId in repository OR store without prefix in seed"
  debug_session: ""
